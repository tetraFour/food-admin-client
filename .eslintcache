[{"/Users/tetrafour/Documents/food-admin/src/index.js":"1","/Users/tetrafour/Documents/food-admin/src/App.js":"2","/Users/tetrafour/Documents/food-admin/src/Pages/Home/index.js":"3","/Users/tetrafour/Documents/food-admin/src/Pages/Auth/index.js":"4","/Users/tetrafour/Documents/food-admin/src/routes/Public/index.js":"5","/Users/tetrafour/Documents/food-admin/src/routes/Private/index.js":"6","/Users/tetrafour/Documents/food-admin/src/Components/Modals/AddDisease.js":"7","/Users/tetrafour/Documents/food-admin/src/hooks/index.js":"8","/Users/tetrafour/Documents/food-admin/src/Components/Header/index.js":"9","/Users/tetrafour/Documents/food-admin/src/Components/CardsNav/index.js":"10","/Users/tetrafour/Documents/food-admin/src/helpers/index.js":"11","/Users/tetrafour/Documents/food-admin/src/Components/DiseaseList/index.js":"12","/Users/tetrafour/Documents/food-admin/src/Components/FoodList/index.js":"13","/Users/tetrafour/Documents/food-admin/src/Pages/AddFood/index.js":"14","/Users/tetrafour/Documents/food-admin/src/helpers/api.js":"15","/Users/tetrafour/Documents/food-admin/src/Components/Modals/ChangeName.js":"16","/Users/tetrafour/Documents/food-admin/src/Components/Modals/ChangePrice.js":"17","/Users/tetrafour/Documents/food-admin/src/Pages/Food/index.js":"18","/Users/tetrafour/Documents/food-admin/src/Pages/AddHouse/index.js":"19","/Users/tetrafour/Documents/food-admin/src/Pages/AllData/index.js":"20","/Users/tetrafour/Documents/food-admin/src/Components/HouseTable/index.js":"21"},{"size":199,"mtime":1613830495741,"results":"22","hashOfConfig":"23"},{"size":1014,"mtime":1614243982665,"results":"24","hashOfConfig":"23"},{"size":1103,"mtime":1614088814527,"results":"25","hashOfConfig":"23"},{"size":2747,"mtime":1614085082836,"results":"26","hashOfConfig":"23"},{"size":453,"mtime":1613831632212,"results":"27","hashOfConfig":"23"},{"size":793,"mtime":1613825358988,"results":"28","hashOfConfig":"23"},{"size":1563,"mtime":1613853453127,"results":"29","hashOfConfig":"23"},{"size":177,"mtime":1613825358987,"results":"30","hashOfConfig":"23"},{"size":730,"mtime":1614088529524,"results":"31","hashOfConfig":"23"},{"size":2777,"mtime":1614242570435,"results":"32","hashOfConfig":"23"},{"size":252,"mtime":1613834398386,"results":"33","hashOfConfig":"23"},{"size":974,"mtime":1613825358977,"results":"34","hashOfConfig":"23"},{"size":2393,"mtime":1614088827613,"results":"35","hashOfConfig":"23"},{"size":5553,"mtime":1614083769589,"results":"36","hashOfConfig":"23"},{"size":667,"mtime":1613858448396,"results":"37","hashOfConfig":"23"},{"size":1046,"mtime":1613856420929,"results":"38","hashOfConfig":"23"},{"size":1186,"mtime":1613856411379,"results":"39","hashOfConfig":"23"},{"size":5609,"mtime":1614110822210,"results":"40","hashOfConfig":"23"},{"size":1750,"mtime":1614242929173,"results":"41","hashOfConfig":"23"},{"size":198,"mtime":1614243963336,"results":"42","hashOfConfig":"23"},{"size":1656,"mtime":1614250301343,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"12bjnwh",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"46"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"46"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/tetrafour/Documents/food-admin/src/index.js",[],["90","91"],"/Users/tetrafour/Documents/food-admin/src/App.js",[],"/Users/tetrafour/Documents/food-admin/src/Pages/Home/index.js",[],"/Users/tetrafour/Documents/food-admin/src/Pages/Auth/index.js",[],"/Users/tetrafour/Documents/food-admin/src/routes/Public/index.js",[],"/Users/tetrafour/Documents/food-admin/src/routes/Private/index.js",[],"/Users/tetrafour/Documents/food-admin/src/Components/Modals/AddDisease.js",[],"/Users/tetrafour/Documents/food-admin/src/hooks/index.js",[],"/Users/tetrafour/Documents/food-admin/src/Components/Header/index.js",[],"/Users/tetrafour/Documents/food-admin/src/Components/CardsNav/index.js",["92"],"/Users/tetrafour/Documents/food-admin/src/helpers/index.js",[],"/Users/tetrafour/Documents/food-admin/src/Components/DiseaseList/index.js",[],"/Users/tetrafour/Documents/food-admin/src/Components/FoodList/index.js",["93","94","95","96"],"import React, { useState } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport { Layout, Card, Skeleton } from \"antd\";\nimport { delay } from \"../../helpers\";\n\nconst { Content } = Layout;\n\nconst { Meta } = Card;\n\nconst FoodList = ({ food, isLoading, inputValue }) => {\n  const history = useHistory();\n\n  // const [food, setFood] = useState([]);\n  // const [isLoading, setIsLoading] = useState(true);\n\n  const { role } = JSON.parse(localStorage.getItem(\"user\"));\n\n  // React.useEffect(() => {\n  //   const fetchFood = async () => {\n  //     await delay(2000);\n  //     const { data } = await axios(\n  //       `${process.env.REACT_APP_API_BASE_URL}/get-food`\n  //     );\n  //\n  //     setFood(data);\n  //     setIsLoading(false);\n  //     console.log(data);\n  //   };\n  //\n  //   fetchFood();\n  // }, []);\n\n  const filter = (item) => {\n    if (inputValue === \"\") {\n      return item;\n    } else if (item.name.toLowerCase().includes(inputValue.toLowerCase())) {\n      return item;\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <Content className=\"site-layout-background site-layout-background__book-list\">\n        <Skeleton style={{ width: 240, height: 280 }} active />\n        <Skeleton style={{ width: 240, height: 280 }} active />\n        <Skeleton style={{ width: 240, height: 280 }} active />\n        <Skeleton style={{ width: 240, height: 280 }} active />\n        <Skeleton style={{ width: 240, height: 280 }} active />\n      </Content>\n    );\n  }\n\n  return (\n    <Content className=\"site-layout-background site-layout-background__book-list\">\n      {food &&\n        food.filter(filter).map((f) => (\n          <Card\n            key={f._id}\n            hoverable\n            style={{ width: 240 }}\n            cover={\n              <img\n                alt=\"example\"\n                src={\n                  !!f.imageUrl.length\n                    ? f.imageUrl\n                    : \"https://news.aut.ac.nz/__data/assets/image/0006/92328/placeholder-image10.jpg\"\n                }\n                style={{ height: \"100%\", objectFit: \"cover\" }}\n                onClick={() => {\n                  history.push(`/card/${f._id}`);\n                }}\n              />\n            }\n          >\n            <Meta title={f.name} description={`цена: ${f.price}р.`} />\n          </Card>\n        ))}\n    </Content>\n  );\n};\n\nexport default FoodList;\n","/Users/tetrafour/Documents/food-admin/src/Pages/AddFood/index.js",[],"/Users/tetrafour/Documents/food-admin/src/helpers/api.js",[],"/Users/tetrafour/Documents/food-admin/src/Components/Modals/ChangeName.js",[],"/Users/tetrafour/Documents/food-admin/src/Components/Modals/ChangePrice.js",["97"],"import React from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { Input, InputNumber, Modal } from \"antd\";\nimport axios from \"axios\";\n\nconst ChangeFoodPrice = ({\n  modalChangeFoodVisible,\n  setModalChangeFoodVisible,\n  food,\n}) => {\n  const history = useHistory();\n\n  const [foodPrice, setFoodPrice] = React.useState(food.price);\n\n  const handleChange = (value) => {\n    setFoodPrice(value);\n  };\n\n  const handleOk = async () => {\n    await axios.patch(`http://localhost:7000/api/food/${food._id}`, {\n      field: \"price\",\n      value: foodPrice,\n    });\n    setModalChangeFoodVisible((prev) => !prev);\n    history.push(\"/home\");\n  };\n\n  const handleCancel = () => {\n    setModalChangeFoodVisible((prev) => !prev);\n  };\n\n  return (\n    food && (\n      <Modal\n        title={`Название продукта: ${food.name}`}\n        visible={modalChangeFoodVisible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n      >\n        <InputNumber\n          value={foodPrice}\n          onClick={(e) => e.target.select()}\n          onChange={handleChange}\n          style={{ width: \"100%\" }}\n        />\n      </Modal>\n    )\n  );\n};\n\nexport default ChangeFoodPrice;\n","/Users/tetrafour/Documents/food-admin/src/Pages/Food/index.js",["98","99","100","101","102"],"import React, { useEffect, useLayoutEffect } from \"react\";\n\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { Layout, Card, Button, Typography, Spin } from \"antd\";\nimport {\n  EditOutlined,\n  CloseOutlined,\n  UserOutlined,\n  DollarCircleOutlined,\n} from \"@ant-design/icons\";\n\nimport cardIcon from \"../../assets/images/medical.svg\";\n\nimport AddDisease from \"../../Components/Modals/AddDisease\";\nimport DiseaseList from \"../../Components/DiseaseList\";\nimport Axios from \"axios\";\nimport { useNotification } from \"../../hooks\";\nimport { delay } from \"../../helpers\";\nimport ChangeFoodName from \"../../Components/Modals/ChangeName\";\nimport ChangeFoodPrice from \"../../Components/Modals/ChangePrice\";\n\n// const delay = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nconst Food = () => {\n  const { id } = useParams();\n  const history = useHistory();\n  const notification = useNotification();\n\n  const [food, setFood] = React.useState(null);\n\n  // const [inc, setInc] = React.useState(0);\n\n  // const [changeAddDiseaseVisible, setChangeAddDiseaseVisible] = React.useState(\n  //   null\n  // );\n  let start = 0.1;\n\n  const [timer, setTimer] = React.useState(\"\");\n  const [time, setTime] = React.useState(start * 60);\n\n  // let time = start * 60;\n\n  const updateCountdown = React.useCallback(() => {\n    const minutes = Math.floor(time / 60);\n\n    let seconds = time % 60;\n\n    seconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n    setTimer(`${minutes}:${seconds}`);\n    setTime(time - 1);\n  }, [time]);\n\n  useEffect(() => {\n    const countDown = setInterval(updateCountdown, 1000);\n    if (time === -1) {\n      clearInterval(countDown);\n      return;\n    }\n    return () => {\n      clearInterval(countDown);\n    };\n  }, [time, updateCountdown]);\n\n  useEffect(() => {\n    const handleNotify = () => {\n      notification(\"success\", \"Заказ готов!\", `блюдо номер 32 готово!`);\n    };\n\n    const finalTimer = setTimeout(handleNotify, 7000);\n    return () => {\n      clearInterval(finalTimer);\n    };\n  }, []);\n\n  const [modalFoodNameVisible, setModalFoodChangeNameVisible] = React.useState(\n    false\n  );\n\n  const [modalFoodPriceVisible, setModalFoodPriceVisible] = React.useState(\n    false\n  );\n\n  const [isUser, setIsUser] = React.useState(false);\n\n  useLayoutEffect(() => {\n    const { role } = JSON.parse(localStorage.getItem(\"user\"));\n    if (role === 1) {\n      setIsUser(true);\n    }\n  }, []);\n\n  React.useEffect(() => {\n    const fetchFood = async () => {\n      await delay(2000);\n      const { data } = await Axios(\n        `${process.env.REACT_APP_API_BASE_URL}/api/food/${id}`\n      );\n\n      setFood(data);\n    };\n\n    fetchFood();\n  }, [id]);\n\n  const deleteFood = async () => {\n    try {\n      await Axios.delete(\n        `${process.env.REACT_APP_API_BASE_URL}/api/food/${food._id}`\n      );\n      notification(\n        \"success\",\n        `${food.name} был(а) удален(а)`,\n        `${food.name} успешно удален(а)`\n      );\n      history.push(\"/home\");\n    } catch (error) {\n      notification(\"error\", `Упс!`, `Что-то пошло не так!`);\n    }\n  };\n\n  return (\n    <>\n      <Layout\n        className=\"site-layout\"\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n      >\n        <div className=\"button-wrapper\">\n          <Button\n            type=\"primary\"\n            icon={<EditOutlined />}\n            onClick={() => setModalFoodChangeNameVisible(true)}\n          >\n            Изменить Название\n          </Button>\n          <Button type=\"primary\" icon={<UserOutlined />}>\n            Изменить ресторан\n          </Button>\n          <Button\n            icon={<DollarCircleOutlined />}\n            onClick={() => setModalFoodPriceVisible(true)}\n          >\n            Изменить цену\n          </Button>\n          <Button\n            type=\"primary\"\n            danger\n            icon={<CloseOutlined />}\n            onClick={deleteFood}\n          >\n            Удалить продукт\n          </Button>\n        </div>\n        {timer}\n        {food ? (\n          <Card\n            key={food._id}\n            style={{ maxWidth: \"500px\" }}\n            cover={\n              <img\n                alt=\"example\"\n                src={food.imageUrl}\n                style={{\n                  height: \"100%\",\n                  objectFit:\n                    food.imageOrientation === \"vertical\" ? \"contain\" : \"cover\",\n                }}\n              />\n            }\n          >\n            <Card.Meta />\n            <Typography.Title level={2} style={{ margin: \"10px 0 0\" }}>\n              {food.name}\n            </Typography.Title>\n            <Typography.Title level={4} style={{ margin: \"10px 0 0\" }}>\n              цена: {food.price}р.\n            </Typography.Title>\n            <Typography.Title\n              level={5}\n              style={{ margin: \"10px 0 0\", color: \"gray\" }}\n            >\n              Ресторан: {food.restaurantId.name}\n            </Typography.Title>\n          </Card>\n        ) : (\n          <Spin />\n        )}\n      </Layout>\n      {food && (\n        <>\n          <ChangeFoodName\n            food={food}\n            changeNameVisible={modalFoodNameVisible}\n            setChangeNameVisible={setModalFoodChangeNameVisible}\n          />\n          <ChangeFoodPrice\n            food={food}\n            modalChangeFoodVisible={modalFoodPriceVisible}\n            setModalChangeFoodVisible={setModalFoodPriceVisible}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Food;\n","/Users/tetrafour/Documents/food-admin/src/Pages/AddHouse/index.js",[],"/Users/tetrafour/Documents/food-admin/src/Pages/AllData/index.js",[],"/Users/tetrafour/Documents/food-admin/src/Components/HouseTable/index.js",["103","104","105"],{"ruleId":"106","replacedBy":"107"},{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","severity":1,"message":"111","line":66,"column":10,"nodeType":"112","messageId":"113","endLine":66,"endColumn":16},{"ruleId":"110","severity":1,"message":"114","line":1,"column":17,"nodeType":"112","messageId":"113","endLine":1,"endColumn":25},{"ruleId":"110","severity":1,"message":"115","line":4,"column":8,"nodeType":"112","messageId":"113","endLine":4,"endColumn":13},{"ruleId":"110","severity":1,"message":"116","line":7,"column":10,"nodeType":"112","messageId":"113","endLine":7,"endColumn":15},{"ruleId":"110","severity":1,"message":"117","line":19,"column":11,"nodeType":"112","messageId":"113","endLine":19,"endColumn":15},{"ruleId":"110","severity":1,"message":"118","line":5,"column":10,"nodeType":"112","messageId":"113","endLine":5,"endColumn":15},{"ruleId":"110","severity":1,"message":"119","line":13,"column":8,"nodeType":"112","messageId":"113","endLine":13,"endColumn":16},{"ruleId":"110","severity":1,"message":"120","line":15,"column":8,"nodeType":"112","messageId":"113","endLine":15,"endColumn":18},{"ruleId":"110","severity":1,"message":"121","line":16,"column":8,"nodeType":"112","messageId":"113","endLine":16,"endColumn":19},{"ruleId":"122","severity":1,"message":"123","line":75,"column":6,"nodeType":"124","endLine":75,"endColumn":8,"suggestions":"125"},{"ruleId":"110","severity":1,"message":"111","line":85,"column":10,"nodeType":"112","messageId":"113","endLine":85,"endColumn":16},{"ruleId":"126","severity":1,"message":"127","line":34,"column":9,"nodeType":"128","endLine":34,"endColumn":21},{"ruleId":"126","severity":1,"message":"127","line":36,"column":9,"nodeType":"128","endLine":36,"endColumn":21},{"ruleId":"126","severity":1,"message":"127","line":38,"column":9,"nodeType":"128","endLine":38,"endColumn":51},"no-native-reassign",["129"],"no-negated-in-lhs",["130"],"no-unused-vars","'isUser' is assigned a value but never used.","Identifier","unusedVar","'useState' is defined but never used.","'axios' is defined but never used.","'delay' is defined but never used.","'role' is assigned a value but never used.","'Input' is defined but never used.","'cardIcon' is defined but never used.","'AddDisease' is defined but never used.","'DiseaseList' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'notification'. Either include it or remove the dependency array.","ArrayExpression",["131"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"132","fix":"133"},"Update the dependencies array to be: [notification]",{"range":"134","text":"135"},[2017,2019],"[notification]"]